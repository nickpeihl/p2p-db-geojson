# p2p-db-geojson

API for p2p-db adding GeoJSON data types.

## install

```shell
npm install p2p-db-geojson
```

## usage

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### GeoJson

-   **See: [p2p-db](https://github.com/noffle/p2p-db)**
-   **See: [p2p-db-osm](https://github.com/noffle/p2p-db-osm)**
-   **See: [hyperdb](https://github.com/mafintosh/hyperdb)**

Create a GeoJson API to install into a p2p-db

**Parameters**

-   `db` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** a hyperdb instance
-   `opts` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** 
    -   `opts.prefix` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** A prefix to add to the hyperdb key (optional, default `'/geojson'`)

**Examples**

```javascript
var P2P = require('p2p-db')
var GeoJson = require('p2p-db-geojson')
var hyperdb = require('hyperdb')
var ram = require('random-access-memory')

var hyper = hyperdb(ram, { valueEncoding: 'json' })
var db = P2P(hyper)
db.install('geojson', new GeoJson(hyper))

var gj = {
  type: "Feature",
  properties: {},
  geometry: {
    type: "Point",
    coordinates: [
      -123.017349,
      48.535021
    ]
  }
}

db.geojson.create(gj, function (err, key) {
  if (err) throw err
  console.log(key)
  db.geojson.get(key, function (err, feature) {
    if (err) throw err
    console.log(feature)
  })
})
```

## license

Copyright 2017 Nick Peihl

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at

   <http://www.apache.org/licenses/LICENSE-2.0>

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
